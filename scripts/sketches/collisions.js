(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("sketches/collisions",["worlds","entities","components","systems","pubsub","jquery","underscore"],function(e,n,r,i,s,o,u){var a,f,l,c,h;return a=function(e){function n(){return h=n.__super__.constructor.apply(this,arguments),h}return t(n,e),n.prototype.match_component=r.Collidable,n.prototype.update_match=function(e,t,n){var i;return i=this.world.entities.get(t,r.Sprite),u.keys(n.in_collision_with).length>0?i.stroke_style="#f33":i.stroke_style="#fff"},n}(i.System),c=new e.World(320,240,new i.SpawnSystem,new i.BouncerSystem,new i.SpinSystem,new i.OrbiterSystem,new i.CollisionSystem,new a,l=new i.ViewportSystem(window,document.getElementById("gameArea"),document.getElementById("gameCanvas"),1,1,!0)),l.draw_bounding_boxes=!0,c.load(f={entities:{10:{Sprite:{shape:"hero"},Spawn:{x:80,y:0},Position:{},Collidable:{},Spin:{rad_per_sec:Math.PI/2}},15:{Spawn:{x:-80,y:0},Position:{},Collidable:{},Spin:{rad_per_sec:Math.PI/2},Sprite:{shape:"enemyscout",stroke_style:"#fff",width:15,height:15}},20:{Spawn:{x:0,y:-60},Position:{},Collidable:{},Spin:{rad_per_sec:Math.PI/2},Sprite:{shape:"enemyscout",stroke_style:"#fff",width:15,height:15}},25:{Spawn:{x:30,y:0},Position:{},Collidable:{},Spin:{rad_per_sec:Math.PI*2},Bouncer:{x_dir:1,y_dir:1,x_sec:100,y_sec:25},Sprite:{shape:"torpedo",stroke_style:"#f33",width:10,height:10}},30:{Spawn:{x:0,y:30},Position:{},Collidable:{},Spin:{rad_per_sec:Math.PI*4},Bouncer:{x_dir:-1,y_dir:1,x_sec:25,y_sec:100},Sprite:{shape:"torpedo",stroke_style:"#f33",width:10,height:10}},35:{Spawn:{x:30,y:30},Position:{},Collidable:{},Spin:{rad_per_sec:Math.PI*6},Bouncer:{x_dir:-1,y_dir:-1,x_sec:50,y_sec:25},Sprite:{shape:"torpedo",stroke_style:"#f33",width:10,height:10}}},groups:{10:["10","15","20","25","30","35"]}}),c.measure_fps=!0,c.current_scene=u.keys(f.groups)[0],c.start()})}).call(this);