(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("sketches/collisions",["worlds","entities","components","systems","pubsub","jquery","underscore"],function(e,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m;return a=function(e){function n(){return m=n.__super__.constructor.apply(this,arguments),m}return t(n,e),n.prototype.match_component=r.Collidable,n.prototype.update_match=function(e,t,n){var i;return i=this.world.entities.get(t,r.Sprite),u.keys(n.in_collision_with).length>0?i.stroke_style="#f33":i.stroke_style="#fff"},n}(i.System),v=new e.World(320,240,new i.SpawnSystem,new i.BouncerSystem,new i.SpinSystem,new i.OrbiterSystem,new i.CollisionSystem,new a,p=new i.ViewportSystem(window,document.getElementById("gameArea"),document.getElementById("gameCanvas"),1,1,!0)),p.draw_bounding_boxes=!0,h=v.entities,v.current_scene=d=h.createGroup(c=h.create(new r.TypeName("HeroShip"),new r.EntityName("hero"),new r.Spawn("at",80,0),new r.Position,new r.Collidable,new r.Spin(Math.PI/4),new r.Sprite("hero")),f=h.create(new r.TypeName("EnemyScout"),new r.EntityName("enemy1"),new r.Spawn("at",-80,0),new r.Position,new r.Collidable,new r.Spin(Math.PI/4),new r.Sprite("enemyscout","#fff",15,15)),l=h.create(new r.TypeName("EnemyCruiser"),new r.EntityName("enemy1"),new r.Spawn("at",0,-60),new r.Position,new r.Collidable,new r.Spin(Math.PI/4),new r.Sprite("enemycruiser","#fff",50,50)),h.create(new r.TypeName("Torpedo"),new r.EntityName("torpedo1"),new r.Spawn("at",30,0),new r.Position,new r.Collidable,new r.Spin(Math.PI*2),new r.Bouncer(1,1,25,25),new r.Sprite("torpedo","#f33",10,10)),h.create(new r.TypeName("Torpedo"),new r.EntityName("torpedo1"),new r.Spawn("at",0,30),new r.Position,new r.Collidable,new r.Spin(Math.PI*4),new r.Bouncer(-1,1,25,50),new r.Sprite("torpedo","#f33",10,10)),h.create(new r.TypeName("Torpedo"),new r.EntityName("torpedo1"),new r.Spawn("at",30,30),new r.Position,new r.Collidable,new r.Spin(Math.PI*6),new r.Bouncer(-1,-1,50,25),new r.Sprite("torpedo","#f33",10,10))),v.start()})}).call(this);