(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},n=[].slice;define(["entities","underscore"],function(e,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;return a=function(){function e(){}return e.prototype.type="AbstractComponent",e.prototype.toString=function(){return""+this.type+": "+JSON.stringify(this)},e}(),E=function(e){function n(e){this.name=e}return t(n,e),n.prototype.type="TypeName",n}(a),f=function(e){function n(e){this.name=e}return t(n,e),n.prototype.type="EntityName",n}(a),p=function(e){function n(e,t,n,r){this.map=e,this.x=t,this.y=n,this.rotation=r!=null?r:0}return t(n,e),n.prototype.type="Position",n}(a),h=function(e){function n(e,t,n){this.orbited_id=e,this.rad_per_sec=t!=null?t:null,this.rotate=n!=null?n:!0,this.angle=0,this.rad_per_sec==null&&(this.rad_per_sec=r.random(Math.PI/32,Math.PI))}return t(n,e),n.prototype.type="Orbit",n}(a),g=function(e){function n(e){this.rad_per_sec=e!=null?e:null}return t(n,e),n.prototype.type="Spin",n}(a),s=function(e){function n(e,t,n,i){this.x_dir=e!=null?e:1,this.y_dir=t!=null?t:1,this.x_sec=n!=null?n:null,this.y_sec=i!=null?i:null,this.x_sec==null&&(this.x_sec=r.random(20,200)),this.y_sec==null&&(this.y_sec=r.random(20,200))}return t(n,e),n.prototype.type="Bouncer",n}(a),m=function(e){function n(e,t,n,r){this.position_logic=e!=null?e:"random",this.x=t!=null?t:0,this.y=n!=null?n:0,this.destroy=r!=null?r:!1}return t(n,e),n.prototype.type="Spawn",n}(a),w=function(e){function r(){var e;e=1<=arguments.length?n.call(arguments,0):[],this.components=e}return t(r,e),r.prototype.type="Tombstone",r}(a),y=function(e){function n(e,t,n,r){this.shape=e,this.stroke_style=t!=null?t:"#fff",this.width=n!=null?n:30,this.height=r!=null?r:30}return t(n,e),n.prototype.type="Sprite",n}(a),d=function(e){function n(){return x=n.__super__.constructor.apply(this,arguments),x}return t(n,e),n.prototype.type="Renderable",n}(a),u=function(e){function n(){this.in_collision_with={}}return t(n,e),n.prototype.type="Collidable",n}(a),b=function(e){function n(e,t,n,r,i){this.dv=e!=null?e:0,this.max_v=t!=null?t:0,this.dx=n!=null?n:0,this.dy=r!=null?r:0,this.active=i!=null?i:!0}return t(n,e),n.prototype.type="Thruster",n}(a),v=function(e){function n(e,t){this.target=e,this.rad_per_sec=t!=null?t:0}return t(n,e),n.prototype.type="Seeker",n}(a),o=function(e){function n(e){this.stop_on_arrival=e!=null?e:!1,this.active=!0}return t(n,e),n.prototype.type="ClickCourse",n}(a),S=function(e){function n(e){this.team=e!=null?e:"foe"}return t(n,e),n.prototype.type="WeaponsTarget",n}(a),i=function(e){function n(e,t,n,r,i,s,o,u,a){var f;this.max_beams=e!=null?e:12,this.active_beams=t!=null?t:4,this.max_range=n!=null?n:150,this.max_power=r!=null?r:150,this.charge_rate=i!=null?i:150,this.discharge_rate=s!=null?s:300,this.color=o!=null?o:"#6f6",this.target_team=u!=null?u:"enemy",this.split_penalty=a!=null?a:.2,this.x=0,this.y=0,this.beams=function(){var t,n;n=[];for(f=t=1;1<=e?t<=e:t>=e;f=1<=e?++t:--t)n.push({target:null,x:0,y:0,charging:!0,charge:0});return n}()}return t(n,e),n.prototype.type="BeamWeapon",n}(a),c=function(e){function n(e){this.max=e!=null?e:1e3,this.current=this.max}return t(n,e),n.prototype.type="Health",n}(a),l=function(e){function n(e,t,n,r,i,s){var o,u,a;this.ttl=e!=null?e:2,this.radius=t!=null?t:100,this.max_particles=n!=null?n:100,this.max_particle_size=r!=null?r:4,this.max_velocity=i!=null?i:300,this.color=s!=null?s:"#f00",this.age=0,this.stop=!1,this.particles=[];for(o=u=0,a=this.max_particles-1;0<=a?u<=a:u>=a;o=0<=a?++u:--u)this.particles.push({free:!0,x:0,y:0,dx:0,dy:0,s:0,mr:0})}return t(n,e),n.prototype.type="Explosion",n}(a),{Component:a,TypeName:E,EntityName:f,Position:p,Orbit:h,Spin:g,Bouncer:s,Spawn:m,Tombstone:w,Collidable:u,Renderable:d,Sprite:y,Thruster:b,Seeker:v,ClickCourse:o,WeaponsTarget:S,BeamWeapon:i,Health:c,Explosion:l}})}).call(this);