function XUnit(e){Base.call(this,e);var t=this.stats,n=[],r=this;e.on("pass",function(e){n.push(e)}),e.on("fail",function(e){n.push(e)}),e.on("end",function(){console.log(tag("testsuite",{name:"Mocha Tests",tests:t.tests,failures:t.failures,errors:t.failures,skip:t.tests-t.failures-t.passes,timestamp:(new Date).toUTCString(),time:t.duration/1e3},!1)),n.forEach(test),console.log("</testsuite>")})}function test(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3};if("failed"==e.state){var n=e.err;t.message=escape(n.message),console.log(tag("testcase",t,!1,tag("failure",t,!1,cdata(n.stack))))}else e.pending?console.log(tag("testcase",t,!1,tag("skipped",{},!0))):console.log(tag("testcase",t,!0))}function tag(e,t,n,r){var i=n?"/>":">",s=[],o;for(var u in t)s.push(u+'="'+escape(t[u])+'"');return o="<"+e+(s.length?" "+s.join(" "):"")+i,r&&(o+=r+"</"+e+i),o}function cdata(e){return"<![CDATA["+escape(e)+"]]>"}var Base=require("./base"),utils=require("../utils"),escape=utils.escape,Date=global.Date,setTimeout=global.setTimeout,setInterval=global.setInterval,clearTimeout=global.clearTimeout,clearInterval=global.clearInterval;exports=module.exports=XUnit,XUnit.prototype.__proto__=Base.prototype;