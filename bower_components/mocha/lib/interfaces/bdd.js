var Suite=require("../suite"),Test=require("../test");module.exports=function(e){var t=[e];e.on("pre-require",function(e,n,r){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.describe=e.context=function(e,n){var r=Suite.create(t[0],e);return t.unshift(r),n.call(r),t.shift(),r},e.xdescribe=e.xcontext=e.describe.skip=function(e,n){var r=Suite.create(t[0],e);r.pending=!0,t.unshift(r),n.call(r),t.shift()},e.describe.only=function(t,n){var i=e.describe(t,n);r.grep(i.fullTitle())},e.it=e.specify=function(e,n){var r=t[0];if(r.pending)var n=null;var i=new Test(e,n);return r.addTest(i),i},e.it.only=function(t,n){var i=e.it(t,n);r.grep(i.fullTitle())},e.xit=e.xspecify=e.it.skip=function(t){e.it(t)}})};