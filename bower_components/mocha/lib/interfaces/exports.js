var Suite=require("../suite"),Test=require("../test");module.exports=function(e){function n(e){var r;for(var i in e)if("function"==typeof e[i]){var s=e[i];switch(i){case"before":t[0].beforeAll(s);break;case"after":t[0].afterAll(s);break;case"beforeEach":t[0].beforeEach(s);break;case"afterEach":t[0].afterEach(s);break;default:t[0].addTest(new Test(i,s))}}else{var r=Suite.create(t[0],i);t.unshift(r),n(e[i]),t.shift()}}var t=[e];e.on("require",n)};