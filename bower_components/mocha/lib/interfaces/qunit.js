var Suite=require("../suite"),Test=require("../test");module.exports=function(e){var t=[e];e.on("pre-require",function(e){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.suite=function(e){t.length>1&&t.shift();var n=Suite.create(t[0],e);t.unshift(n)},e.test=function(e,n){t[0].addTest(new Test(e,n))}})};