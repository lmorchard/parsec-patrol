(function(){function o(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(t=0;t<3;t++){n=s[t];try{e=new ActiveXObject(n)}catch(r){}if(e){s=[n];break}}if(!e)throw new Error("require.getXhr(): XMLHttpRequest not available");return e}var e={},t,n,r,i,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];typeof window!="undefined"&&window.navigator&&window.document?t=function(e,t){var n=o();n.open("GET",e,!0),n.onreadystatechange=function(e){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&!!process.versions.node?(n=require.nodeRequire("fs"),t=function(e,t){t(n.readFileSync(e,"utf8"))}):typeof Packages!="undefined"?t=function(e,t){var n="utf-8",r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),o,u,a="";try{o=new java.lang.StringBuffer,u=s.readLine(),u&&u.length()&&u.charAt(0)===65279&&(u=u.substring(1)),o.append(u);while((u=s.readLine())!==null)o.append(i),o.append(u);a=String(o.toString())}finally{s.close()}t(a)}:typeof Components!="undefined"&&Components.classes&&Components.interfaces&&(r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),t=function(e,t){var n,s,o={},u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),o),s.close(),n.close(),t(o.value)}catch(a){throw new Error((u&&u.path||"")+": "+a)}}),define([],function(){return{load:function(n,r,i,s){var o=r.toUrl(n+".refine");t(o,function(t){t=t.replace(/refine\s*\(/g,"define("),s.isBuild&&(e[n]=t),t+="\r\n//@ sourceURL="+o,i.fromText(t)})},write:function(t,n,r){if(n in e){var i=e[n];r.asModule(t+"!"+n,i)}}}})})();